#!/bin/sh
# -*- coding: utf-8 -*-
# Copyright (C) 2013, 2015, 2016 Laboratoire de Recherche et DÃ©veloppement
# de l'Epita (LRDE).
#
# This file is part of Spot, a model checking library.
#
# Spot is free software; you can redistribute it and/or modify it
# under the terms of the GNU General Public License as published by
# the Free Software Foundation; either version 3 of the License, or
# (at your option) any later version.
#
# Spot is distributed in the hope that it will be useful, but WITHOUT
# ANY WARRANTY; without even the implied warranty of MERCHANTABILITY
# or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public
# License for more details.
#
# You should have received a copy of the GNU General Public License
# along with this program.  If not, see <http://www.gnu.org/licenses/>.


. ./defs

set -e

run 0 ../bitvect | tee stderr
cat >expected <<EOF

   0_________1_________2_________3_________4_________5_________6_________7_____
   0123456789012345678901234567890123456789012345678901234567890123456789012345

v: 000000000000000
v: 000000010010100

   0_________1_________2_________3_________4_________5_________6_________7_____
   0123456789012345678901234567890123456789012345678901234567890123456789012345

w: 000000010000010000000000000000100000000001
w: 000000000010110000000000000000100000000001

   0_________1_________2_________3_________4_________5_________6_________7_____
   0123456789012345678901234567890123456789012345678901234567890123456789012345

x: 000000000000000000000000000000000000000000000000000000000000100000000010000
x: 000000000010110000000000000000100000000001000000000000000000100000000010000
subset? 1 0

   0_________1_________2_________3_________4_________5_________6_________7_____
   0123456789012345678901234567890123456789012345678901234567890123456789012345

0: 110011001100110011001100110011001100110011001100110011001100
1: 110011001100110011001100110011001100110011001100110011001100
2: 001100110011001100110011001100110011001100110011001100110011
3: 001100110011001100110011001100110011001100110011001100110011
4: 110011001100110011001100110011001100110011001100110011001100
5: 110011001100110011001100110011001100110011001100110011001100
6: 001100110011001100110011001100110011001100110011001100110011
7: 001100110011001100110011001100110011001100110011001100110011
8: 110011001100110011001100110011001100110011001100110011001100
9: 110011001100110011001100110011001100110011001100110011001100

   0_________1_________2_________3_________4_________5_________6_________7_____
   0123456789012345678901234567890123456789012345678901234567890123456789012345

0: 110011001100110011001100110011001100110011001100110011001100
1: 110011001100110011001100110011001100110011001100110011001100
2: 001100110011001100110011001100110011001100110011001100110011
3: 001100110011001100110011001100110011001100110011001100110011
4: 110011001100110011001100110011001100110011001100110011001100
5: 110011001100110011001100110011001100110011001100110011001100
6: 111111111111111111111111111111111111111111111111111111111111
7: 001100110011001100110011001100110011001100110011001100110011
8: 001100110011001100110011001100110011001100110011001100110011
9: 110011001100110011001100110011001100110011001100110011001100
Comp: 1011000
EOF

diff expected stderr
